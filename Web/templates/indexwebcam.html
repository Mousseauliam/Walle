<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WALL-E Control Interface</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <img src="{{ url_for('static', filename='walle-logo.png') }}" class="logo-fixed">

    <div class="container">
        <div class="video-box">
            <img id="video-stream" src="{{ url_for('video_feed') }}">
        </div>

        <div class="control-panel">
            <form method="POST" action="/set_mode" class="inline-form">
                <label for="mode">Mode:</label>
                <select name="mode" id="mode">
                    <option value="Auto">Auto</option>
                    <option value="Follow">Follow</option>
                    <option value="Manual">Manual</option>
                    <option value="Sequence">Sequence</option>
                    <option value="Sleep">Sleep</option>
                </select>
                <button type="submit">Set</button>
            </form>

            <form method="POST" action="/set_emote" class="inline-form">
                <label for="emote">Emote:</label>
                <select name="emote" id="emote">
                    <option value="Happy">Happy</option>
                    <option value="Sad">Sad</option>
                    <option value="Surprised">Surprised</option>
                </select>
                <button type="submit">Set</button>
            </form>

            <form method="POST" action="/set_servo" class="inline-form">
                <label for="servo">Servo:</label>
                <select name="servo" id="servo">
                    <option value="Head">Head</option>
                    <option value="ArmLeft">Arm Left</option>
                    <option value="ArmRight">Arm Right</option>
                </select>
                <input type="range" name="position" min="0" max="180">
                <button type="submit">Set</button>
            </form>

            <div class="joystick-row">
                <div class="joystick">
                    <div></div>
                    <button class="dir-btn" onclick="move('forward')">&#x2191;</button>
                    <div></div>
                    <button class="dir-btn" onclick="move('left')">&#x2190;</button>
                    <button class="dir-btn" onclick="blink()">Blink</button>
                    <button class="dir-btn" onclick="move('right')">&#x2192;</button>
                    <div></div>
                    <button class="dir-btn" onclick="move('backward')">&#x2193;</button>
                    <div></div>
                </div>

                <form action="/shutdown" method="POST">
                    <button id="shutdown" type="submit">&#x23FB;</button>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
